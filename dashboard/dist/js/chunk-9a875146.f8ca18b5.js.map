{"version":3,"sources":["webpack:///./node_modules/vm-browserify/index.js","webpack:///./src/views/Otp-screen.vue?6de2","webpack:///src/views/Otp-screen.vue","webpack:///./src/views/Otp-screen.vue?7033","webpack:///./src/views/Otp-screen.vue","webpack:///./src/views/Otp-screen.vue?b414"],"names":["indexOf","xs","item","i","length","Object_keys","obj","Object","keys","res","key","push","forEach","fn","defineProp","defineProperty","name","value","writable","enumerable","configurable","e","globals","Context","prototype","Script","exports","code","this","runInContext","context","TypeError","iframe","document","createElement","style","display","body","appendChild","win","contentWindow","wEval","eval","wExecScript","execScript","call","winKeys","removeChild","runInThisContext","runInNewContext","ctx","createContext","s","apply","slice","arguments","isContext","createScript","copy","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","offset","_v","form","on","confirmOtp","staticStyle","model","callback","$$v","expression","$event","preventDefault","handleSubmit","directives","rawName","rules","required","message","loading","staticRenderFns","data","rememberMe","authenticated","beforeCreate","methods","configureRecaptcha","window","size","sendOtpForVerification","fb","signInWithPhoneNumber","phoneNumber","appVerifier","then","confirmationResult","catch","err","swal","title","text","icon","grecaptcha","confirm","console","router","error","resendOtp","computed","mounted","component"],"mappings":"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","file":"js/chunk-9a875146.f8ca18b5.js","sourcesContent":["var indexOf = function (xs, item) {\n    if (xs.indexOf) return xs.indexOf(item);\n    else for (var i = 0; i < xs.length; i++) {\n        if (xs[i] === item) return i;\n    }\n    return -1;\n};\nvar Object_keys = function (obj) {\n    if (Object.keys) return Object.keys(obj)\n    else {\n        var res = [];\n        for (var key in obj) res.push(key)\n        return res;\n    }\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nvar defineProp = (function() {\n    try {\n        Object.defineProperty({}, '_', {});\n        return function(obj, name, value) {\n            Object.defineProperty(obj, name, {\n                writable: true,\n                enumerable: false,\n                configurable: true,\n                value: value\n            })\n        };\n    } catch(e) {\n        return function(obj, name, value) {\n            obj[name] = value;\n        };\n    }\n}());\n\nvar globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function',\n'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError',\n'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError',\n'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape',\n'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];\n\nfunction Context() {}\nContext.prototype = {};\n\nvar Script = exports.Script = function NodeScript (code) {\n    if (!(this instanceof Script)) return new Script(code);\n    this.code = code;\n};\n\nScript.prototype.runInContext = function (context) {\n    if (!(context instanceof Context)) {\n        throw new TypeError(\"needs a 'context' argument.\");\n    }\n    \n    var iframe = document.createElement('iframe');\n    if (!iframe.style) iframe.style = {};\n    iframe.style.display = 'none';\n    \n    document.body.appendChild(iframe);\n    \n    var win = iframe.contentWindow;\n    var wEval = win.eval, wExecScript = win.execScript;\n\n    if (!wEval && wExecScript) {\n        // win.eval() magically appears when this is called in IE:\n        wExecScript.call(win, 'null');\n        wEval = win.eval;\n    }\n    \n    forEach(Object_keys(context), function (key) {\n        win[key] = context[key];\n    });\n    forEach(globals, function (key) {\n        if (context[key]) {\n            win[key] = context[key];\n        }\n    });\n    \n    var winKeys = Object_keys(win);\n\n    var res = wEval.call(win, this.code);\n    \n    forEach(Object_keys(win), function (key) {\n        // Avoid copying circular objects like `top` and `window` by only\n        // updating existing context properties or new properties in the `win`\n        // that was only introduced after the eval.\n        if (key in context || indexOf(winKeys, key) === -1) {\n            context[key] = win[key];\n        }\n    });\n\n    forEach(globals, function (key) {\n        if (!(key in context)) {\n            defineProp(context, key, win[key]);\n        }\n    });\n    \n    document.body.removeChild(iframe);\n    \n    return res;\n};\n\nScript.prototype.runInThisContext = function () {\n    return eval(this.code); // maybe...\n};\n\nScript.prototype.runInNewContext = function (context) {\n    var ctx = Script.createContext(context);\n    var res = this.runInContext(ctx);\n\n    if (context) {\n        forEach(Object_keys(ctx), function (key) {\n            context[key] = ctx[key];\n        });\n    }\n\n    return res;\n};\n\nforEach(Object_keys(Script.prototype), function (name) {\n    exports[name] = Script[name] = function (code) {\n        var s = Script(code);\n        return s[name].apply(s, [].slice.call(arguments, 1));\n    };\n});\n\nexports.isContext = function (context) {\n    return context instanceof Context;\n};\n\nexports.createScript = function (code) {\n    return exports.Script(code);\n};\n\nexports.createContext = Script.createContext = function (context) {\n    var copy = new Context();\n    if(typeof context === 'object') {\n        forEach(Object_keys(context), function (key) {\n            copy[key] = context[key];\n        });\n    }\n    return copy;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-in\"},[_c('a-row',{attrs:{\"type\":\"flex\",\"gutter\":[24, 24],\"justify\":\"space-around\",\"align\":\"middle\"}},[_c('a-col',{staticClass:\"col-form\",attrs:{\"span\":24,\"md\":12,\"lg\":{ span: 12, offset: 0 },\"xl\":{ span: 6, offset: 2 }}},[_c('h1',{staticClass:\"mb-15\"},[_vm._v(\"Phone Verification\")]),(_vm.authenticated)?_c('h5',{staticClass:\"font-regular text-muted\"},[_vm._v(\" Enter sms code to proceed \")]):_c('h5',{staticClass:\"font-regular text-muted\"},[_vm._v(\" Enter your a valid phone number to verify \")]),(_vm.authenticated)?_c('a-form',{staticClass:\"login-form\",attrs:{\"id\":\"components-form-demo-normal-login\",\"form\":_vm.form,\"hideRequiredMark\":true},on:{\"submit\":_vm.confirmOtp}},[_c('a-form-item',{staticClass:\"mb-10\",attrs:{\"label\":\"Confirmation CODE\",\"colon\":false}},[_c('a-input-group',{attrs:{\"compact\":\"\"}},[_c('a-input',{staticStyle:{\"width\":\"calc(100% - 100px)\"},attrs:{\"label\":\"Confirm Code\",\"placeholder\":\"Code\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_c('a-button',{attrs:{\"type\":\"primary\",\"id\":\"otp-verfiy-button\"},on:{\"click\":_vm.confirmOtp}},[_vm._v(\"Confirm\")])],1)],1)],1):_c('a-form',{staticClass:\"login-form\",attrs:{\"id\":\"components-form-demo-normal-login\",\"form\":_vm.form,\"hideRequiredMark\":true},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('a-form-item',{staticClass:\"mb-10\",attrs:{\"label\":\"Phone Number\",\"colon\":false}},[_c('a-input-group',{attrs:{\"compact\":\"\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n                'phone_number',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Please input your phone number!',\n                    } ],\n                } ]),expression:\"[\\n                'phone_number',\\n                {\\n                  rules: [\\n                    {\\n                      required: true,\\n                      message: 'Please input your phone number!',\\n                    },\\n                  ],\\n                },\\n              ]\"}],staticStyle:{\"width\":\"calc(100% - 100px)\"},attrs:{\"placeholder\":\"705******\",\"addon-before\":\"+254\"}}),_c('a-button',{attrs:{\"type\":\"primary\",\"html-type\":\"submit\",\"id\":\"otp-verfiy-button\",\"loading\":_vm.loading}},[_vm._v(\"VERIFY\")])],1)],1)],1)],1),_c('a-col',{staticClass:\"col-img\",attrs:{\"span\":24,\"md\":12,\"lg\":12,\"xl\":12}},[_c('img',{attrs:{\"src\":\"images/signup-img.jpg\",\"alt\":\"\"}})])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"sign-in\">\r\n    <a-row type=\"flex\" :gutter=\"[24, 24]\" justify=\"space-around\" align=\"middle\">\r\n      <!-- Sign In Form Column -->\r\n      <a-col\r\n        :span=\"24\"\r\n        :md=\"12\"\r\n        :lg=\"{ span: 12, offset: 0 }\"\r\n        :xl=\"{ span: 6, offset: 2 }\"\r\n        class=\"col-form\"\r\n      >\r\n        <h1 class=\"mb-15\">Phone Verification</h1>\r\n        <h5 class=\"font-regular text-muted\" v-if=\"authenticated\">\r\n          Enter sms code to proceed\r\n        </h5>\r\n        <h5 class=\"font-regular text-muted\" v-else>\r\n          Enter your a valid phone number to verify\r\n        </h5>\r\n\r\n        <!-- Sign In Form -->\r\n        <a-form\r\n          id=\"components-form-demo-normal-login\"\r\n          :form=\"form\"\r\n          class=\"login-form\"\r\n          @submit=\"confirmOtp\"\r\n          :hideRequiredMark=\"true\"\r\n          v-if=\"authenticated\"\r\n        >\r\n          <a-form-item class=\"mb-10\" label=\"Confirmation CODE\" :colon=\"false\">\r\n            <a-input-group compact>\r\n              <a-input\r\n                v-model=\"code\"\r\n                style=\"width: calc(100% - 100px)\"\r\n                label=\"Confirm Code\"\r\n                placeholder=\"Code\"\r\n              />\r\n              <a-button\r\n                type=\"primary\"\r\n                @click=\"confirmOtp\"\r\n                id=\"otp-verfiy-button\"\r\n                >Confirm</a-button\r\n              >\r\n            </a-input-group>\r\n          </a-form-item>\r\n        </a-form>\r\n        <a-form\r\n          id=\"components-form-demo-normal-login\"\r\n          :form=\"form\"\r\n          class=\"login-form\"\r\n          @submit.prevent=\"handleSubmit\"\r\n          :hideRequiredMark=\"true\"\r\n          v-else\r\n        >\r\n          <a-form-item class=\"mb-10\" label=\"Phone Number\" :colon=\"false\">\r\n            <a-input-group compact>\r\n              <a-input\r\n                v-decorator=\"[\r\n                  'phone_number',\r\n                  {\r\n                    rules: [\r\n                      {\r\n                        required: true,\r\n                        message: 'Please input your phone number!',\r\n                      },\r\n                    ],\r\n                  },\r\n                ]\"\r\n                placeholder=\"705******\"\r\n                addon-before=\"+254\"\r\n                style=\"width: calc(100% - 100px)\"\r\n              />\r\n              <a-button\r\n                type=\"primary\"\r\n                html-type=\"submit\"\r\n                id=\"otp-verfiy-button\"\r\n                :loading=\"loading\"\r\n                >VERIFY</a-button\r\n              >\r\n            </a-input-group>\r\n          </a-form-item>\r\n        </a-form>\r\n\r\n        <!-- / Sign In Form -->\r\n      </a-col>\r\n      <!-- / Sign In Form Column -->\r\n\r\n      <!-- Sign In Image Column -->\r\n      <a-col :span=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\" class=\"col-img\">\r\n        <img src=\"images/signup-img.jpg\" alt=\"\" />\r\n      </a-col>\r\n      <!-- Sign In Image Column -->\r\n    </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { runInThisContext } from \"vm\";\r\nimport * as fb from \"../firebase\";\r\nimport router from \"../router/index\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // Binded model property for \"Sign In Form\" switch button for \"Remember Me\" .\r\n      loading: false,\r\n      rememberMe: true,\r\n      authenticated: false,\r\n      code: \"\",\r\n    };\r\n  },\r\n  beforeCreate() {\r\n    // Creates the form and adds to it component's \"form\" property.\r\n    this.form = this.$form.createForm(this, { name: \"normal_login\" });\r\n  },\r\n  methods: {\r\n    // configure recaptcha\r\n    configureRecaptcha() {\r\n      window.recaptchaVerifier = new fb.capture.RecaptchaVerifier(\r\n        \"otp-verfiy-button\",\r\n        {\r\n          size: \"invisible\",\r\n        }\r\n      );\r\n    },\r\n    // handle otpsend\r\n    sendOtpForVerification(phoneNumber) {\r\n      this.configureRecaptcha();\r\n      const appVerifier = window.recaptchaVerifier;\r\n      fb.auth.languageCode = \"en\";\r\n      fb.auth\r\n        .signInWithPhoneNumber(phoneNumber, appVerifier)\r\n        .then((confirmationResult) => {\r\n          // SMS sent. Prompt user to type the code from the message, then sign the\r\n          // user in with confirmationResult.confirm(code).\r\n          window.confirmationResult = confirmationResult;\r\n          this.$message.success(\"Otp sent successfully\");\r\n          this.authenticated = true;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          // Error; SMS not sent\r\n          swal({\r\n            title: \"OOPS!\",\r\n            text: `${err.message}`,\r\n            icon: \"error\",\r\n          });\r\n          window.recaptchaVerifier.render().then(function (widgetId) {\r\n            grecaptcha.reset(widgetId);\r\n          });\r\n          this.loading = false;\r\n        });\r\n    },\r\n    confirmOtp() {\r\n      this.loading = true;\r\n      window.confirmationResult\r\n        .confirm(this.code)\r\n        .then(async (result) => {\r\n          console.log(result);\r\n          router.push(\"dashboard\");\r\n          // ...\r\n        })\r\n        .catch((error) => {\r\n          this.loading = false;\r\n          // User couldn't sign in (bad verification code?)\r\n          // ...\r\n          swal({\r\n            title: \"OOPS!\",\r\n            text: `${error.message}`,\r\n            icon: \"error\",\r\n          });\r\n          this.otpSent = true;\r\n          window.recaptchaVerifier.render().then(function (widgetId) {\r\n            grecaptcha.reset(widgetId);\r\n          });\r\n        });\r\n    },\r\n    resendOtp() {\r\n      this.sendOtpForVerification();\r\n    },\r\n    // Handles input validation after submission.\r\n    handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          this.loading = true;\r\n          const format1 = \"7\";\r\n          const format2 = \"07\";\r\n          const format3 = \"+254\";\r\n          if (values.phone_number.startsWith(format1)) {\r\n            let formatted_number = \"+254\" + values.phone_number;\r\n            this.sendOtpForVerification(formatted_number);\r\n            this.form.resetFields();\r\n          } else if (values.phone_number.startsWith(format2)) {\r\n            let formatted_number = \"+254\" + values.phone_number.substring(1);\r\n            this.sendOtpForVerification(formatted_number);\r\n            this.form.resetFields();\r\n          } else if (values.phone_number.startsWith(format3)) {\r\n            let formatted_number = \"+254\" + values.phone_number.substring(4);\r\n            this.sendOtpForVerification(formatted_number);\r\n            //this.visible=true\r\n            this.form.resetFields();\r\n          } else {\r\n            this.$message.error(\"please enter a valid phone number format\");\r\n            this.form.resetFields();\r\n          }\r\n        }\r\n      });\r\n    },\r\n  },\r\n  computed: {},\r\n  mounted() {},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nbody {\r\n  background-color: #ffffff;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Otp-screen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Otp-screen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Otp-screen.vue?vue&type=template&id=5b76cbd2&\"\nimport script from \"./Otp-screen.vue?vue&type=script&lang=js&\"\nexport * from \"./Otp-screen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Otp-screen.vue?vue&type=style&index=0&id=5b76cbd2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Otp-screen.vue?vue&type=style&index=0&id=5b76cbd2&prod&lang=scss&\""],"sourceRoot":""}