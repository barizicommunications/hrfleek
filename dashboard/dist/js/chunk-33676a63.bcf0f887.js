(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33676a63","chunk-2d0bddc2"],{"2e92":function(e,t,a){"use strict";function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e,t){if(!e)throw new Error(t)}function s(e){return Object.keys(e)}function o(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function l(e,t,a){var n="."+t,r=new RegExp("(\\".concat(t,")?$"));return a(e).replace(r,n)}function i(e){return"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),e.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function c(e){return Array(e+1).join(" ")}function u(e){return e.replace(/([<>&])/g,(function(e,t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}}))}function d(e,t,a){switch(t){case"txt":var n="text/plain;charset=utf-8";return a?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e);case"css":n="text/css;charset=utf-8";return a?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e);case"html":n="text/html;charset=utf-8";return a?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e);case"json":n="text/json;charset=utf-8";return a?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e);case"csv":n="text/csv;charset=utf-8";return a?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e);case"xls":n="text/application/vnd.ms-excel;charset=utf-8";return a?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e);case"xml":n="text/application/xml;charset=utf-8";return a?URL.createObjectURL(new Blob([e],{type:n})):"data:,".concat(n)+encodeURIComponent(e);default:return""}}function m(e,t,a,n){void 0===a&&(a="download"),void 0===n&&(n=!0);var r=d(e,t,n),s=document.createElement("a");s.href=r,s.download=a,s.setAttribute("style","visibility:hidden"),document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(s)}var p=function(){return p=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},p.apply(this,arguments)},f=function(e,t){var a="function"===typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,s=a.call(e),o=[];try{while((void 0===t||t-- >0)&&!(n=s.next()).done)o.push(n.value)}catch(l){r={error:l}}finally{try{n&&!n.done&&(a=s["return"])&&a.call(s)}finally{if(r)throw r.error}}return o};function h(e){if(!e||n(e)&&!e.length||!n(e)&&!s(e).length)return function(e){return e};var t=n(e)?e.reduce((function(e,t){var a;return p(p({},e),(a={},a[t]=t,a))}),Object.create(null)):e;return function(e){return n(e)?e.map((function(e){return o(e).reduce((function(e,a){var n=f(a,2),r=n[0],s=n[1];return r in t&&(e[t[r]]=s),e}),Object.create(null))})).filter((function(e){return s(e).length})):o(e).reduce((function(e,a){var n=f(a,2),r=n[0],s=n[1];return r in t&&(e[t[r]]=s),e}),Object.create(null))}}function v(e){var t="Invalid export data. Please provide a valid JSON";try{return"string"===typeof e?JSON.parse(e):e}catch(a){throw new Error(t)}}function b(e,t,a){void 0===t&&(t=null);var n="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(e,t,a)}catch(r){throw new Error(n)}}function y(e){return e.map(o).reduce((function(t,a,n){return a.reduce((function(t,a){var r=f(a,2),s=r[0],o=r[1],l=t[s]||Array.from({length:e.length}).map((function(e){return""}));return l[n]=("string"!==typeof o?JSON.stringify(o):o)||"",t[s]=l,t}),t)}),Object.create(null))}function g(e,t){return void 0===t&&(t=function(e){return e}),t(o(e).map((function(e){var t=f(e,2),a=t[0],n=t[1];return{fieldName:a,fieldValues:n}})))}function _(e){var t=/,|"|\n/.test(e)?'"':"",a=e.replace(/"/g,'""');return"".concat(t).concat(a).concat(t)}function w(e,t){if(void 0===t&&(t=function(e){return e}),!e.length)return"";var a=y(e),n=g(a,t),r=n.map((function(e){var t=e.fieldName;return t})).join(",")+"\r\n",s=n.map((function(e){var t=e.fieldValues;return t})).map((function(e){return e.map(_)})),o=s.reduce((function(e,t){return e.map((function(e,a){return"".concat(e,",").concat(t[a])}))}));return r+o.join("\r\n")}function x(e,t){r(e.length>0);var a=y(e),n=g(a,t),s=n.map((function(e){var t=e.fieldName;return t})).join("</b></th><th><b>"),o=n.map((function(e){var t=e.fieldValues;return t})).map((function(e){return e.map((function(e){return"<td>".concat(e,"</td>")}))})),l=o.reduce((function(e,t){return e.map((function(e,a){return"".concat(e).concat(t[a])}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>".concat(s,"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>").concat(l.join("</tr>\n        <tr>"),"</tr>\n      </tbody>\n    </table>\n  ")}function S(e,t){if(void 0===t&&(t=function(e){return e}),!e.length)return"";var a='<html>\n  <head>\n    <meta charset="UTF-8" />\n  </head >\n  <body>\n    '.concat(x(e,t),"\n  </body>\n</html >\n");return a}function k(e){var t='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'.concat(N(e,"base"),"\n");return t}function N(e,t,a,r){void 0===a&&(a="element"),void 0===r&&(r=0);var s=i(t),l=c(r);if(null===e||void 0===e)return"".concat(l,"<").concat(s," />");var d=n(e)?e.map((function(e){return N(e,a,a,r+2)})).join("\n"):"object"===typeof e?o(e).map((function(e){var t=f(e,2),n=t[0],s=t[1];return N(s,n,a,r+2)})).join("\n"):l+"  "+u(String(e)),m="".concat(l,"<").concat(s,">\n").concat(d,"\n").concat(l,"</").concat(s,">");return m}var C={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function q(e){var t=e.data,a=e.fileName,s=void 0===a?"download":a,o=e.extension,i=e.fileNameFormatter,c=void 0===i?function(e){return e.replace(/\s+/,"_")}:i,u=e.fields,d=e.exportType,p=void 0===d?"txt":d,f=e.replacer,y=void 0===f?null:f,g=e.space,_=void 0===g?4:g,x=e.processor,N=void 0===x?m:x,C=e.withBOM,q=void 0!==C&&C,R=e.beforeTableEncode,j=void 0===R?function(e){return e}:R,O="Invalid export data. Please provide an array of objects",L="Can't export unknown data type ".concat(p,"."),I="Can't export string data to ".concat(p,".");if("string"===typeof t)switch(p){case"txt":case"css":case"html":return N(t,p,l(s,null!==o&&void 0!==o?o:p,c));default:throw new Error(I)}var E=h(u),F=E(v(t)),U=b(F,y,_);switch(p){case"txt":case"css":case"html":return N(U,p,l(s,null!==o&&void 0!==o?o:p,c));case"json":return N(U,p,l(s,null!==o&&void 0!==o?o:"json",c));case"csv":r(n(F),O);var P="\ufeff",B=w(F,j),A=q?P+B:B;return N(A,p,l(s,null!==o&&void 0!==o?o:"csv",c));case"xls":r(n(F),O);A=S(F,j);return N(A,p,l(s,null!==o&&void 0!==o?o:"xls",c));case"xml":A=k(F);return N(A,p,l(s,null!==o&&void 0!==o?o:"xml",c));default:throw new Error(L)}}q.types=C,q.processors={downloadFile:m};var R=q;t["a"]=R},"7b21":function(e,t,a){"use strict";a("dab3")},"87c9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticClass:"header-solid h-full",attrs:{bordered:!1,bodyStyle:{padding:0}},scopedSlots:e._u([{key:"title",fn:function(){return[a("a-row",{attrs:{type:"flex",align:"middle"}},[a("a-col",{attrs:{span:24,md:12}},[a("h6",[e._v("Employees")]),a("p",[e._v(" Total "),a("span",{staticClass:"text-primary"},[e._v(e._s(e.employees.length))])])]),a("a-col",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end"},attrs:{span:24,md:12}},[a("a-radio-group",{attrs:{size:"small"}},[a("a-button",{on:{click:e.showModal}},[e._v("Add New Employee")])],1)],1)],1)]},proxy:!0}])},[a("a-modal",{attrs:{title:"Bulk Imports"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.handleCancel}},[e._v(" Cancel ")]),a("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:e.handleUpload}},[e._v(" Upload ")])],1),a("div",{staticClass:"table-upload-btn"},[a("a-upload",{attrs:{"file-list":e.fileList,remove:e.handleRemove,"before-upload":e.beforeUpload,accept:".csv"}},[a("a-button",{attrs:{block:""}},[a("a-icon",{attrs:{type:"upload"}}),e._v(" Select CSV File ")],1)],1)],1),a("div",{staticClass:"table-upload-btn"},[a("a-button",{attrs:{type:"dashed",block:""},on:{click:function(t){return t.preventDefault(),e.downloadFile.apply(null,arguments)}}},[a("a-icon",{attrs:{type:"download"}}),e._v(" Download Sample CSV ")],1)],1)],2),a("a-drawer",{attrs:{title:"Create a new employee account",width:720,visible:e.visible,"body-style":{paddingBottom:"80px"}},on:{close:e.onClose}},[a("a-form",{attrs:{form:e.form,layout:"vertical","hide-required-mark":!1},on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"First Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["first_name",{rules:[{required:!0,message:"Please enter user name"}]}],expression:"[\n                'first_name',\n                {\n                  rules: [\n                    { required: true, message: 'Please enter user name' },\n                  ],\n                },\n              ]"}],attrs:{placeholder:"Please enter user name"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Last Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["last_name",{rules:[{required:!0,message:"please enter your last name"}]}],expression:"[\n                'last_name',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'please enter your last name',\n                    },\n                  ],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"last name"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Email"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"please enter email"}]}],expression:"[\n                'email',\n                {\n                  rules: [{ required: true, message: 'please enter email' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"email"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Phone Number"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone_number",{rules:[{required:!0,message:"please enter phone"}]}],expression:"[\n                'phone_number',\n                {\n                  rules: [{ required: true, message: 'please enter phone' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"phone"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"National ID"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["national_id",{rules:[{required:!0,message:"Field is required"}]}],expression:"[\n                'national_id',\n                {\n                  rules: [{ required: true, message: 'Field is required' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"national_id"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"KRA PIN"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["kra_pin",{rules:[{required:!0,message:"Field is required"}]}],expression:"[\n                'kra_pin',\n                {\n                  rules: [{ required: true, message: 'Field is required' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"KRA PIN"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"NSSF NUMBER"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nssf_number",{rules:[{required:!0,message:"Field is required"}]}],expression:"[\n                'nssf_number',\n                {\n                  rules: [{ required: true, message: 'Field is required' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"nssf number"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"NHIF NUMBER"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nhif_number",{rules:[{required:!0,message:"Field is required"}]}],expression:"[\n                'nhif_number',\n                {\n                  rules: [{ required: true, message: 'Field is required' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"NHIF"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Department"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["department",{rules:[{required:!0,message:"Please select a department"}]}],expression:"[\n                'department',\n                {\n                  rules: [\n                    { required: true, message: 'Please select a department' },\n                  ],\n                },\n              ]"}],attrs:{placeholder:"department"}},e._l(e.currentClient.departments,(function(t){return a("a-select-option",{key:t.department_name,attrs:{value:t.department_name}},[e._v(" "+e._s(t.department_name)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Designation"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["designation",{rules:[{required:!0,message:"please enter designation"}]}],expression:"[\n                'designation',\n                {\n                  rules: [\n                    { required: true, message: 'please enter designation' },\n                  ],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"designation"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Bank Name"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["bank_name",{rules:[{required:!0,message:"Please choose the bank"}]}],expression:"[\n                'bank_name',\n                {\n                  rules: [\n                    { required: true, message: 'Please choose the bank' },\n                  ],\n                },\n              ]"}],attrs:{placeholder:"Please choose the bank"}},[a("a-select-option",{attrs:{value:"equity"}},[e._v(" Equity Bank ")]),a("a-select-option",{attrs:{value:"kcb"}},[e._v(" KCB Bank ")])],1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Branch Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bank_branch",{rules:[{required:!0,message:"please enter branch"}]}],expression:"[\n                'bank_branch',\n                {\n                  rules: [{ required: true, message: 'please enter branch' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"Branch Name"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Account Name"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account_name",{rules:[{required:!0,message:"please enter account"}]}],expression:"[\n                'account_name',\n                {\n                  rules: [\n                    { required: true, message: 'please enter account' },\n                  ],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"account Name"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Account Number"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account_number",{rules:[{required:!0,message:"please enter account number"}]}],expression:"[\n                'account_number',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'please enter account number',\n                    },\n                  ],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"account number",type:"number"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Date of Birth"}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["date_of_birth",{rules:[{required:!0,message:"please enter account"}]}],expression:"[\n                'date_of_birth',\n                {\n                  rules: [\n                    { required: true, message: 'please enter account' },\n                  ],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"Basic Pay"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Basic Pay"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["basic_pay",{rules:[{required:!0,message:"please enter account"}]}],expression:"[\n                'basic_pay',\n                {\n                  rules: [\n                    { required: true, message: 'please enter account' },\n                  ],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{placeholder:"Basic Pay"}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Gender"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["gender",{rules:[{required:!0,message:"Please select"}]}],expression:"[\n                'gender',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Please select',\n                    },\n                  ],\n                },\n              ]"}]},[a("a-select-option",{attrs:{value:"male"}},[e._v(" Male ")]),a("a-select-option",{attrs:{value:"female"}},[e._v("Female")])],1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"Status"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{rules:[{required:!0,message:"Please select employee status"}]}],expression:"[\n                'status',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      message: 'Please select employee status',\n                    },\n                  ],\n                },\n              ]"}],attrs:{placeholder:"Status"}},[a("a-select-option",{attrs:{value:"active"}},[e._v(" Active ")]),a("a-select-option",{attrs:{value:"inactive"}},[e._v("Inactive")])],1)],1)],1)],1)],1),a("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[a("a-button",{style:{marginRight:"8px"},on:{click:e.onClose}},[e._v(" Cancel ")]),a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(" Submit ")])],1)],1),a("a-table",{attrs:{columns:e.columns,"data-source":e.employees,bordered:"","row-selection":e.rowSelection,rowKey:"id",scroll:{x:2e3}},scopedSlots:e._u([{key:"operation",fn:function(t,n){return[a("div",{staticClass:"editable-row-operations"},[a("span",[a("router-link",{attrs:{to:{name:"Editemployee",params:{profile:n}}}},[a("a",[e._v("Edit")])])],1)])]}}])}),a("div",{staticClass:"table-upload-btn"},[a("a-button",{attrs:{type:"dashed",block:""},on:{click:e.showDrawer}},[a("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 17C3 16.4477 3.44772 16 4 16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H4C3.44772 18 3 17.5523 3 17ZM6.29289 6.70711C5.90237 6.31658 5.90237 5.68342 6.29289 5.29289L9.29289 2.29289C9.48043 2.10536 9.73478 2 10 2C10.2652 2 10.5196 2.10536 10.7071 2.29289L13.7071 5.29289C14.0976 5.68342 14.0976 6.31658 13.7071 6.70711C13.3166 7.09763 12.6834 7.09763 12.2929 6.70711L11 5.41421L11 13C11 13.5523 10.5523 14 10 14C9.44771 14 9 13.5523 9 13L9 5.41421L7.70711 6.70711C7.31658 7.09763 6.68342 7.09763 6.29289 6.70711Z",fill:"#111827"}})]),e._v(" import CSV ")])],1)],1)},r=[],s=a("2f62"),o=a("2e92"),l=a("dc59"),i=a("1940"),c=a.n(i);const u=[{title:"First Name",dataIndex:"first_name",scopedSlots:{customRender:"first_name"}},{title:"Last Name",dataIndex:"last_name",scopedSlots:{customRender:"last_name"}},{title:"Gender",dataIndex:"Gender",scopedSlots:{customRender:"gender"}},{title:"Email",dataIndex:"email",scopedSlots:{customRender:"email"}},{title:"Phone Number",dataIndex:"phone_number",scopedSlots:{customRender:"phone_number"}},{title:"KRA PIN",dataIndex:"kra_pin",scopedSlots:{customRender:"kra_pin"}},{title:"Department",dataIndex:"department",scopedSlots:{customRender:"department"},filters:[{text:"Sales",value:"sales"},{text:"Engineering",value:"engineering"}],onFilter:(e,t)=>0===t.department.indexOf(e)},{title:"designation",dataIndex:"designation",scopedSlots:{customRender:"designation"}},{title:"NHIF Number",dataIndex:"nhif_number"},{title:"NSSF Number",dataIndex:"nssf_number"},{title:"Basic Salary",className:"column-money",dataIndex:"basic_pay",sorter:(e,t)=>e.basic_pay-t.basic_pay},{title:"operation",dataIndex:"operation",fixed:"right",scopedSlots:{customRender:"operation"}}];var d={components:{},data(){return{columns:u,projectHeaderBtns:"all",visible:!1,form:this.$form.createForm(this,{name:"coordinated"}),editables:["full_name","email","department","designation"],editingKey:"",modal:!1,loading:!1,fileList:[],uploading:!1,filesrc:{label:"sample.csv",url:"./sample.csv"},sampleData:[{national_id:"35276738",first_name:"Liliane",last_name:"Lorrainbe",Gender:"male",email:"citlalli.wolf@hotmail.com",phone_number:"0705122230",address:"2448 Willms Freeway",Country:"Kenya",department:"sales",designation:"sales manager",employment_type:"contract",kra_pin:"A2030400504L",nhif_number:"1923990",nssf_number:"500604",bank_name:"Equity Bank",account_name:"Warren Ochieng",account_number:"49999030009",bank_branch:"Kenyatta Avenue",basic_pay:"1000000",Status:"active",employee_id:""},{national_id:"35276738",first_name:"Phillip",last_name:"Mugo",Gender:"male",email:"citlalli.wolf@hotmail.com",phone_number:"0705122230",address:"2448 Willms Freeway",Country:"Kenya",department:"sales",designation:"sales manager",employment_type:"contract",kra_pin:"A2030400504L",nhif_number:"1923990",nssf_number:"500604",bank_name:"Equity Bank",account_name:"Warren Ochieng",account_number:"49999030009",bank_branch:"Kenyatta Avenue",basic_pay:"1000000",Status:"active",employee_id:""},{national_id:"36273495",first_name:"MIchelle",last_name:"Natasha",Gender:"female",email:"citlalli.wolf@hotmail.com",phone_number:"0705122230",address:"2448 Willms Freeway",Country:"Kenya",department:"sales",designation:"sales manager",employment_type:"contract",kra_pin:"A2030400504L",nhif_number:"1923990",nssf_number:"500604",bank_name:"Equity Bank",account_name:"Warren Ochieng",account_number:"49999030009",bank_branch:"Kenyatta Avenue",basic_pay:"1000000",Status:"active",employee_id:""}]}},methods:{showModal(){this.visible=!0},showDrawer(){this.modal=!0},onClose(){this.visible=!1},handleSubmit(e){e.preventDefault(),this.form.validateFields((e,t)=>{e||(this.$store.dispatch("addEmployee",t),console.log(t))})},handleChange(e,t,a){const n=[...this.employees],r=n.find(e=>t===e.id);r&&(r[a]=e,this.employees=n)},handleOk(){},handleCancel(){this.modal=!1},beforeUpload(e){return this.fileList=[...this.fileList,e],!1},handleRemove(e){const t=this.fileList.indexOf(e),a=this.fileList.slice();a.splice(t,1),this.fileList=a},handleUpload(e){if(e.preventDefault(),this.fileList.length){this.loading=!0;let e=new Promise((e,t)=>{var a=new FileReader,n=this;a.onload=t=>{e(n.fileinput=a.result)},a.readAsText(this.fileList[0])});e.then(e=>{for(var t=e.split("\n"),a=[],n=t[0].split(","),r=1;r<t.length;r++){for(var s={},o=t[r].split(","),i=0;i<n.length;i++)s[n[i]]=o[i];a.push(s)}function u(e,t){var a=0;return e.forEach(e=>e.national_id===t&&a++),a}function d(e,t){var a=0;return e.forEach(e=>e.kra_pin===t&&a++),a}function m(e,t){var a=0;return e.forEach(e=>e.nssf_number===t&&a++),a}function p(e,t){var a=0;return e.forEach(e=>e.nhif_number===t&&a++),a}a&&"object"===typeof a&&Object.keys(a).forEach(async e=>{const t=JSON.parse(localStorage.getItem("client"));console.log(u(a,a[e].national_id)),u(a,a[e].national_id)>1?(console.log(a),this.loading=!1,this.$message.error("some ID are duplicates")):d(a,a[e].kra_pin)>1?(this.loading=!1,this.$message.error("some KRA PINs are duplicates")):m(a,a[e].nssf_number)>1?(this.loading=!1,this.$message.error("some NSSF numbers are duplicates")):p(a,a[e].nhif_number)>1?(this.loading=!1,this.$message.error("some NHIF numbers are duplicates")):await l["c"].doc(t.kra_pin).collection("team").doc(a[e].national_id).set(a[e]).then(()=>{this.loading=!1,c()({title:"Sucess!",text:"record added successfully",icon:"success"})}).catch(e=>{c()({title:"OOPS!",text:""+e.message,icon:"error"}),this.loading=!1})})},e=>{console.log(e),this.loading=!1})}else c()({title:"OOPS!",text:"please select a valid CSV file",icon:"error"})},forceFileDownload(e,t){console.log("this is the tilte",t);const a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t),document.body.appendChild(n),n.click()},downloadFile(){const e=this.sampleData;console.log(typeof e);const t="sample employee data",a=o["a"].types.csv;e&&Object(o["a"])({data:e,fileName:t,exportType:a})}},computed:{...Object(s["c"])(["employees","currentClient"]),rowSelection(){return{onChange:(e,t)=>{console.log("selectedRowKeys: "+e,"selectedRows: ",t)},getCheckboxProps:e=>({props:{disabled:"Disabled User"===e.name,name:e.name}})}}},mounted(){this.$store.dispatch("getEmployees"),this.$store.dispatch("getCurrentClient")}},m=d,p=(a("7b21"),a("2877")),f=Object(p["a"])(m,n,r,!1,null,"0f07869e",null);t["a"]=f.exports},dab3:function(e,t,a){}}]);
//# sourceMappingURL=chunk-33676a63.bcf0f887.js.map