(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2339ece8"],{"2fef":function(e,t,r){"use strict";r("35e8")},"35e8":function(e,t,r){},4393:function(e,t,r){"use strict";r("e07b")},"4ac4":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-form",{attrs:{form:e.form},on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("a-form-item",{attrs:{label:"Company Name"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_name",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'company_name',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}]})],1),r("a-form-item",{attrs:{label:"KRA PIN"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["kra_pin",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'kra_pin',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}],attrs:{placholder:"KRA PIN"}})],1),r("a-form-item",{attrs:{label:"Company Email"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_email",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'company_email',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}]})],1),r("a-form-item",{attrs:{label:"Phone Number"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_phone",{rules:[{required:!0,message:"Please input phone number!"}]}],expression:"[\n            'company_phone',\n            {\n              rules: [\n                { required: true, message: 'Please input phone number!' },\n              ],\n            },\n          ]"}],staticStyle:{width:"100%"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["prefix",{initialValue:"86"}],expression:"['prefix', { initialValue: '86' }]"}],staticStyle:{width:"70px"},attrs:{slot:"addonBefore"},slot:"addonBefore"},[r("a-select-option",{attrs:{value:"86"}},[e._v(" +254 ")]),r("a-select-option",{attrs:{value:"87"}},[e._v(" +1 ")])],1)],1)],1),r("a-form-item",{attrs:{label:"Company Address"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_address",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'company_address',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}]})],1),r("a-form-item",{attrs:{label:"Company Logo"}},[r("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["logo",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'logo',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}],attrs:{name:"file",multiple:!1,"list-type":"picture","transform-file":e.transformFile,"file-list":e.fileList,remove:e.handleRemove,"before-upload":e.beforeUpload}},[r("a-button",[r("a-icon",{attrs:{type:"upload"}}),e._v(" Click to Upload logo")],1)],1)],1)],1)],1)},s=[],i=r("2f62"),n={data(){return{formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated"}),image:null,fileList:[],uploading:!1}},methods:{handleRemove(e){const t=this.fileList.indexOf(e),r=this.fileList.slice();r.splice(t,1),this.fileList=r},beforeUpload(e){return this.fileList=[...this.fileList,e],!1},transformFile(e){return new Promise(t=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{const e=document.createElement("canvas"),a=document.createElement("img");a.src=r.result,a.onload=()=>{const r=e.getContext("2d");r.drawImage(a,0,0),r.fillStyle="red",r.textBaseline="middle",r.fillText("Ant Design",20,20),e.toBlob(t)}}})},handleSubmit(e){e.preventDefault(),this.form.validateFields((e,t)=>{e||console.log("Received values of form: ",t)})}},computed:{...i["c"]["clients"],loading(){return this.$store.state.loading},error(){return this.$store.state.error}},mounted(){this.$store.dispatch("getClients")}},o=n,l=r("2877"),c=Object(l["a"])(o,a,s,!1,null,null,null);t["a"]=c.exports},"58f3":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-row",{staticClass:"mb-10",attrs:{type:"flex",align:"stretch"}},[r("a-col",{staticClass:"col-info",attrs:{span:24,md:12}},[r("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"search client",loading:e.searchLoading},on:{search:e.onSearch},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),r("a-col",{staticClass:"col-info",attrs:{span:24,md:12}},[r("a-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!0}}},[e._v("Add New")])],1)],1),r("CardInfo",{attrs:{clients:e.resultQuery}}),r("a-modal",{attrs:{title:"Title","on-ok":"handleOk"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("template",{slot:"footer"},[r("a-button",{key:"back",on:{click:e.handleCancel}},[e._v(" Cancel ")]),r("a-button",{key:"submit",attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v(" Submit ")])],1),r("a-form",{attrs:{form:e.form},on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("a-form-item",{attrs:{label:"Company Name"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_name",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'company_name',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}]})],1),r("a-form-item",{attrs:{label:"KRA PIN"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["kra_pin",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'kra_pin',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}],attrs:{placholder:"KRA PIN"}})],1),r("a-form-item",{attrs:{label:"Company Email"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_email",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'company_email',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}]})],1),r("a-form-item",{attrs:{label:"Phone Number"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_phone",{rules:[{required:!0,message:"Please input phone number!"}]}],expression:"[\n            'company_phone',\n            {\n              rules: [\n                { required: true, message: 'Please input phone number!' },\n              ],\n            },\n          ]"}],staticStyle:{width:"100%"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["prefix",{initialValue:"86"}],expression:"['prefix', { initialValue: '86' }]"}],staticStyle:{width:"70px"},attrs:{slot:"addonBefore"},slot:"addonBefore"},[r("a-select-option",{attrs:{value:"86"}},[e._v(" +254 ")]),r("a-select-option",{attrs:{value:"87"}},[e._v(" +1 ")])],1)],1)],1),r("a-form-item",{attrs:{label:"Company Address"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company_address",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'company_address',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}]})],1),r("a-form-item",{attrs:{label:"Company Logo"}},[r("a-upload",{directives:[{name:"decorator",rawName:"v-decorator",value:["logo",{rules:[{required:!0,message:"Field is required!"}]}],expression:"[\n            'logo',\n            { rules: [{ required: true, message: 'Field is required!' }] },\n          ]"}],attrs:{name:"file",multiple:!1,"list-type":"picture","transform-file":e.transformFile,"file-list":e.fileList,remove:e.handleRemove,"before-upload":e.beforeUpload}},[r("a-button",[r("a-icon",{attrs:{type:"upload"}}),e._v(" Click to Upload logo")],1)],1)],1)],1)],2)],1)},s=[],i=r("5e32"),n=r("4ac4"),o=r("2f62"),l={components:{CardInfo:i["a"],ClientForm:n["a"]},data(){return{searchQuery:null,searchLoading:!1,allowed:!1,visible:!1,formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated"}),image:null,fileList:[],uploading:!1}},methods:{logKeys(){console.log(this.current[0])},onSearch(e){return console.log(e,this.searchQuery),this.searchQuery?(this.visible=!0,this.assets.filter(e=>this.searchQuery.toLowerCase().split(" ").every(t=>{e.asset_name.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)}))):this.assets},handleCancel(){this.visible=!1},handleRemove(e){const t=this.fileList.indexOf(e),r=this.fileList.slice();r.splice(t,1),this.fileList=r},beforeUpload(e){return this.fileList=[...this.fileList,e],!1},transformFile(e){return new Promise(t=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{const e=document.createElement("canvas"),a=document.createElement("img");a.src=r.result,a.onload=()=>{const r=e.getContext("2d");r.drawImage(a,0,0),r.fillStyle="red",r.textBaseline="middle",r.fillText("Ant Design",20,20),e.toBlob(t)}}})},handleSubmit(e){e.preventDefault(),this.form.validateFields((e,t)=>{e||(console.log("Received values of form: ",t),this.$store.dispatch("addClients",t).then(()=>{this.error||this.form.resetFields()}))})}},computed:{...Object(o["c"])(["clients","currentClient"]),resultQuery(){return this.searchQuery?this.clients.filter(e=>this.searchQuery.toString().toLowerCase().split(" ").every(t=>e.company_name.toLowerCase().includes(t))):this.clients},loading(){return this.$store.state.loading},error(){return this.$store.state.error}},mounted(){this.$store.dispatch("getClients"),this.$store.dispatch("getCurrentClient")}},c=l,d=(r("2fef"),r("2877")),u=Object(d["a"])(c,a,s,!1,null,null,null);t["default"]=u.exports},"5e32":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-row",{attrs:{gutter:24,type:"flex",align:"stretch"}},e._l(e.clients,(function(t){return r("a-col",{key:t.id,staticClass:"mb-24",attrs:{span:24,lg:8}},[e.currentClient?r("a-card",{ref:"clientcard",refInFor:!0,staticClass:"card-info",class:e.currentClient.id==t.id?" selected-client":"",attrs:{bordered:!1,title:t.company_name,span:24,lg:16},on:{click:function(){e.switchClient(t)}}},[r("a-row",{attrs:{type:"flex"}},[r("a-col",{staticClass:"col-content"},[r("div",{staticClass:"card-content"},[r("p",[e._v(e._s(t.address))]),r("p",[e._v(e._s(t.company_phone))]),r("p",[e._v(e._s(t.company_email))])])]),r("a-col",{staticClass:"col-img",attrs:{span:24,lg:8}},[r("a-avatar",{attrs:{src:t.logo,size:104}})],1)],1)],1):r("a-card",{ref:"clientcard",refInFor:!0,staticClass:"card-info",attrs:{bordered:!1,title:t.company_name,span:24,lg:16},on:{click:function(){e.switchClient(t)}}},[r("a",{attrs:{slot:"extra",href:"#"},slot:"extra"},[r("a-icon",{staticClass:"ml-10",attrs:{type:"delete"}})],1),r("a-row",{attrs:{type:"flex"}},[r("a-col",{staticClass:"col-content"},[r("div",{staticClass:"card-content"},[r("p",[e._v(e._s(t.address))]),r("p",[e._v(e._s(t.company_phone))]),r("p",[e._v(e._s(t.company_email))])])]),r("a-col",{staticClass:"col-img",attrs:{span:24,lg:8}},[r("a-avatar",{attrs:{src:t.logo,size:104}})],1)],1)],1)],1)})),1)},s=[],i=r("2f62"),n=r("a18c"),o={props:{clients:{type:Array,default:()=>[]}},data(){return{image:"https://firebasestorage.googleapis.com/v0/b/scanpal-f74da.appspot.com/o/barizi.png?alt=media&token=4039f5ff-b1d4-4084-a02d-fdae939a3d61"}},computed:{...Object(i["c"])(["currentClient"]),formattedName(){return function(e){const t=e.slice(40);return t}}},methods:{formatName(e){const t=e.slice(40);return t},switchClient(e){const t=this.clients.indexOf(e);this.clients.forEach(e=>{this.clients.indexOf(e)==t?(this.$refs.clientcard[t].$el.classList.add("selected-client"),localStorage.setItem("client",JSON.stringify(e)),this.$store.dispatch("getCurrentClient"),this.$store.dispatch("getEmployees"),n["a"].push("client-details")):this.$refs.clientcard[this.clients.indexOf(e)].$el.classList.remove("selected-client")})}},mounted(){this.$store.dispatch("getClients"),this.$store.dispatch("getCurrentClient")}},l=o,c=(r("4393"),r("2877")),d=Object(c["a"])(l,a,s,!1,null,"0c8caa0f",null);t["a"]=d.exports},e07b:function(e,t,r){}}]);
//# sourceMappingURL=chunk-2339ece8.463a6df8.js.map